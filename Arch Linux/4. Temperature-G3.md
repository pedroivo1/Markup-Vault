# Temperature Control

## Basic
```bash
sudo pacman -S lm_sensors thermald
sudo systemctl enable --now thermald
```

## Fan Control

```bash
yay -S --noconfirm i8kutils-git dell-bios-fan-control-git
```

### Unlock Kernel Modules
```bash
echo "options dell-smm-hwmon restricted=0 force=1" | sudo tee /etc/modprobe.d/dell-smm-hwmon.conf
echo "dell-smm-hwmon" | sudo tee /etc/modules-load.d/dell-smm-hwmon.conf
```

### Disable BIOS Control on Boot
```bash
sudo nano /etc/systemd/system/disable-bios-fan-control.service
```

```toml
[Unit]
Description=Disable Dell BIOS Fan Control
After=multi-user.target

[Service]
Type=oneshot
ExecStart=/usr/bin/dell-bios-fan-control 0

[Install]
WantedBy=multi-user.target
```

### Enable Services
```bash
sudo systemctl daemon-reload
sudo systemctl enable --now disable-bios-fan-control.service
```

### Create Aliases
On ~/.bashrc add
```bash
alias fan0='i8kfan 0 0' > /dev/null
alias fan1='i8kfan 1 1' > /dev/null
alias fan2='i8kfan 2 2' > /dev/null
```

```bash
reboot
```
