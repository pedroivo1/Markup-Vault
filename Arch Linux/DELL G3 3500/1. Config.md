
## Cooling & RGB & Intel Video & Audio Firmware

## Fan Control

### Download

```bash
yay -S --noconfirm i8kutils-git dell-bios-fan-control-git
```

### Unlock Kernel Modules

```bash
echo "options dell-smm-hwmon restricted=0 force=1" | sudo tee /etc/modprobe.d/dell-smm-hwmon.conf
echo "dell-smm-hwmon" | sudo tee /etc/modules-load.d/dell-smm-hwmon.conf
```

### Disable BIOS Control on Boot
```bash
sudo nano /etc/systemd/system/disable-bios-fan-control.service
```

```toml
[Unit]
Description=Disable Dell BIOS Fan Control
After=multi-user.target

[Service]
Type=oneshot
ExecStart=/usr/bin/dell-bios-fan-control 0

[Install]
WantedBy=multi-user.target
```

### Configure i8kmon (Automatic Profile)

```bash
sudo nano /etc/i8kutils/i8kmon.conf
```

```tcl
# {{ventoinha1 ventoinha2} temp_min_liga temp_max_liga temp_min_desliga temp_max_desliga}
set config(0) {{0 0}  -1  55  -1  60}
set config(1) {{1 0}  50  65  55  70}
set config(2) {{1 1}  60  75  65  80}
set config(3) {{2 2}  70  128 75  128}

set config(timeout) 10
```

### Enable Services
```bash
sudo systemctl daemon-reload
sudo systemctl enable --now disable-bios-fan-control.service
sudo systemctl enable --now i8kmon.service
```




## Keyboard RGB (OpenRGB)
```bash
sudo pacman -S --noconfirm openrgb i2c-tools
echo "i2c-dev" | sudo tee /etc/modules-load.d/i2c-dev.conf
sudo udevadm control --reload-rules && sudo udevadm trigger
```

## Intel GPU
```bash
sudo pacman -S --noconfirm mesa lib32-mesa vulkan-intel lib32-vulkan-intel \
intel-media-driver libva-utils vulkan-tools
```

## Audio Drivers (SOF Firmware)
```bash
sudo pacman -S --noconfirm pipewire pipewire-alsa pipewire-jack pipewire-pulse \
wireplumber sof-firmware alsa-ucm-conf alsa-utils
```


#ED35B1